@using global::SharpAbp.Abp.Identity
@using TResource = Volo.Abp.Identity.Localization.IdentityResource
@inherits AbpDialogFormBase<int, DateTime?, TResource>

<AbpFluentForm HeaderText="@($@"{L["LockUser"]} - {User.UserName}")"
               IsConstHeader="true"
               Content="@Content"
               SubmitClick="OnSubmitClick"
               CancelClick="CancelClick"
               Localize="@LH.Localize">
    <FluentDateTimePicker @bind-Value="Content" Label="@L["LockEndDateTime"]"></FluentDateTimePicker>
</AbpFluentForm>

@code {
    [Parameter] public IdentityUserDto User { get; set; }

    public IdentityUserLockDialog()
    {
        LocalizationResource = typeof(TResource);
        Content = DateTime.Now;
    }

    protected virtual async Task<DialogResult?> OnSubmitClick()
    {
        return await SubmitClick.Invoke((Content - DateTime.Now).Value.TotalSeconds.To<int>());
    }

}